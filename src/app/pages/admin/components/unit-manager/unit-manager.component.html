<div class="max-w-xl mx-auto p-4">
    <button (click)="showAddModal = true" class="bg-blue-500 text-white px-4 py-1 rounded mb-4">Yeni Unit Ekle</button>

    <app-add-unit-modal *ngIf="showAddModal" (add)="handleAdd($event)"
        (close)="showAddModal = false"></app-add-unit-modal>
    <app-update-unit-modal *ngIf="editUnit" [unit]="editUnit" (update)="handleUpdate($event)"
        (close)="editUnit = null"></app-update-unit-modal>

    <div *ngFor="let unit of units$ | async" class="flex items-center justify-between bg-white rounded shadow p-2 mb-2">
        <div>
            <span class="font-bold">{{ unit.title }}</span>
            <span class="text-xs text-gray-500 ml-2">(Sıra: {{ unit.order }})</span>
        </div>
        <button (click)="editUnit = unit" class="text-blue-500 hover:underline">Düzenle</button>
        <button (click)="openDeleteModal(unit)" class="text-red-500 hover:underline">Sil</button>
    </div>
</div>

<app-delete-unit-modal *ngIf="deleteUnitData" [unitTitle]="deleteUnitData.title" (confirm)="confirmDelete()"
    (close)="closeDeleteModal()">
</app-delete-unit-modal>